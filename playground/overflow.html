<!DOCTYPE html>
<html dir="ltr">

<head>
  <meta charset="UTF-8">
  <title>Cupertino Pane - Overflow</title>

  <meta name="viewport" content="viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <script type="module" src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.esm.js"></script>
  <script nomodule src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.js"></script>
  <script src="../dist/cupertino-pane.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@ionic/core/css/ionic.bundle.css"/> 
  <style>ion-drawer { padding: 0 20px; }</style>
</head>

<body>
  <ion-content>
      <ion-drawer>
        <h1 class="ion-padding">Header</h1>
        <div class="overflow-container"  overflow-y>
          <ion-list hide-on-bottom>
            <ion-list-header>
              Recent Conversations
            </ion-list-header>
    
            <ion-item>
              <ion-avatar slot="start">
                <img src="https://github.com/ionic-team/ionic-docs/blob/master/src/demos/api/list/avatar-finn.png?raw=true">
              </ion-avatar>
              <ion-label>
                <h2>Finn</h2>
                <h3>I'm a big deal</h3>
                <p>Listen, I've had a pretty messed up day...</p>
              </ion-label>
            </ion-item>
    
            <ion-item>
              <ion-avatar slot="start">
                <img src="https://github.com/ionic-team/ionic-docs/blob/master/src/demos/api/list/avatar-han.png?raw=true">
              </ion-avatar>
              <ion-label>
                <h2>Han</h2>
                <h3>Look, kid...</h3>
                <p>I've got enough on my plate as it is, and I...</p>
              </ion-label>
            </ion-item>
    
            <ion-item>
              <ion-avatar slot="start">
                <img src="https://github.com/ionic-team/ionic-docs/blob/master/src/demos/api/list/avatar-rey.png?raw=true">
              </ion-avatar>
              <ion-label>
                <h2>Rey</h2>
                <h3>I can handle myself</h3>
                <p>You will remove these restraints and leave...</p>
              </ion-label>
            </ion-item>
    
            <ion-item>
              <ion-avatar slot="start">
                <img src="https://github.com/ionic-team/ionic-docs/blob/master/src/demos/api/list/avatar-luke.png?raw=true">
              </ion-avatar>
              <ion-label>
                <h2>Luke</h2>
                <h3>Your thoughts betray you</h3>
                <p>I feel the good in you, the conflict...</p>
              </ion-label>
            </ion-item>
          </ion-list>
    
          <ion-list>
            <ion-list-header>
              Online
            </ion-list-header>
    
            <ion-item>
              <ion-avatar slot="start">
                <img src="https://github.com/ionic-team/ionic-docs/blob/master/src/demos/api/list/avatar-poe.png?raw=true">
              </ion-avatar>
              <ion-label>
                <h2>Poe</h2>
                <h3>New Ride</h3>
                <p>I just upgraded my X-Wing. Next time...</p>
              </ion-label>
            </ion-item>
    
            <ion-item>
              <ion-avatar slot="start">
                <img src="https://github.com/ionic-team/ionic-docs/blob/master/src/demos/api/list/avatar-ben.png?raw=true">
              </ion-avatar>
              <ion-label>
                <h2>Ben</h2>
                <h3>Move Along</h3>
                <p>These aren't the droids you're looking for...</p>
              </ion-label>
            </ion-item>
    
            <ion-item>
              <ion-avatar slot="start">
                <img src="https://github.com/ionic-team/ionic-docs/blob/master/src/demos/api/list/avatar-leia.png?raw=true">
              </ion-avatar>
              <ion-label>
                <h2>Leia</h2>
                <h3>You're My Only Hope</h3>
                <p>I've placed information vital to the survival...</p>
              </ion-label>
            </ion-item>
    
            <ion-item>
              <ion-avatar slot="start">
                <img src="https://github.com/ionic-team/ionic-docs/blob/master/src/demos/api/list/avatar-yoda.png?raw=true">
              </ion-avatar>
              <ion-label>
                <h2>Yoda</h2>
                <h3>Size matters not</h3>
                <p>Do or do not. There is no try...</p>
              </ion-label>
            </ion-item>
          </ion-list>
        </div>
      </ion-drawer>

      <ion-button expand="block" color="danger" onclick="presentDrawer()">Present Drawer</ion-button>
      <ion-button expand="block" color="danger" onclick="destroyDrawer()">Destroy Drawer</ion-button>

      <ion-button expand="block" onclick="hideDrawer()">Hide Drawer</ion-button>
      <ion-button expand="block" onclick="isHiddenDrawer()">Drawer is hidden</ion-button>
      <ion-button expand="block" onclick="toggleDarkMode()">Toggle dark mode</ion-button>
      <ion-button expand="block" onclick="moveToHeight()">Move to height = 575</ion-button>

      <ion-button expand="block" color="secondary" onclick="setTopDrawer()">Set Top</ion-button>
      <ion-button expand="block" color="secondary" onclick="setMiddleDrawer()">Set Middle</ion-button>
      <ion-button expand="block" color="secondary" onclick="setBottomDrawer()">Set Bottom</ion-button>

      <ion-button expand="block" color="tertiary" onclick="setBreakpoints()">Set Breakpoints</ion-button>
  </ion-content>
  <style>
    body .test-pane {
      --ion-background-color: transparent;
      --ion-text-color: var(--cupertino-pane-color);
    }

    body.-dark .test-pane {
      --cupertino-pane-icon-close-color: #a8a7ae;
      --cupertino-pane-bg: #1c1c1d;
      --cupertino-pane-color: #ffffff;
      --cupertino-pane-shadow: 0 4px 16px rgb(0 0 0 / 12%);
      --cupertino-pane-border-radius: 20px;
      --cupertino-pane-move-background: #424246;
      --cupertino-pane-destroy-button-background: #424246;
    }
  </style>
  <script>
    var element = document.querySelector('ion-drawer');
    var drawer = new CupertinoPane(element, { 
        paneClassName: 'test-pane'
        // breaks: {
        //   top: { enabled: false, offset: 700 }
        // },
        // draggableOver: true,
        // dragByCursor: false,
        // backdrop: true,
        // topperOverflowOffset: 110
        // followerElement: 'ion-fab',
        // onDrag: () => console.log('Drag event'),
        // freeMode: true,
        // onBackdropTap: () => hideDrawer()
    });
    setTimeout(() => drawer.present({animate: true}));

    async function presentDrawer() {
      drawer.present({animate: true});
    };

    async function destroyDrawer() {
      drawer.destroy({animate: true});
    };
    
    async function hideDrawer() {
      drawer.hide();
    };

    async function isHiddenDrawer() {
        console.log(await drawer.isHidden());
    };

    async function setTopDrawer() {
      drawer.moveToBreak('top');
    };

    async function setMiddleDrawer() {
      drawer.moveToBreak('middle');
    };

    async function setBottomDrawer() {
      drawer.moveToBreak('bottom');
    };

    async function toggleDarkMode() {
      document.body.classList.toggle('-dark')
    }

    async function setBreakpoints() {
      drawer.setBreakpoints({
        top: { enabled: true, height: 700 },
        middle: { enabled: true, height: 400 },
        bottom: { enabled: true, height: 150 }
      });
    };

    async function moveToHeight() {
      drawer.moveToHeight(575);
    };
  </script>
</body>

</html>